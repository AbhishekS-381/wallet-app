{"version":3,"file":"notification-toast.wallet-app-root.wallet-dashboard.wallet-setup.wallet-transactions.wallet-transactions-table.entry.esm.js","sources":["src/components/notification-toast/notification-toast.css?tag=notification-toast&encapsulation=shadow","src/components/notification-toast/notification-toast.tsx","src/config.ts","src/components/wallet-app-root/wallet-app-root.css?tag=wallet-app-root&encapsulation=shadow","src/components/wallet-app-root/wallet-app-root.tsx","src/components/wallet-dashboard/wallet-dashboard.css?tag=wallet-dashboard&encapsulation=shadow","src/components/wallet-dashboard/wallet-dashboard.tsx","src/components/wallet-setup/wallet-setup.css?tag=wallet-setup&encapsulation=shadow","src/components/wallet-setup/wallet-setup.tsx","src/components/wallet-transactions/wallet-transactions.css?tag=wallet-transactions&encapsulation=shadow","src/components/wallet-transactions/wallet-transactions.tsx","src/components/wallet-transactions-table/wallet-transactions-table.css?tag=wallet-transactions-table","src/components/wallet-transactions-table/wallet-transactions-table.tsx"],"sourcesContent":[":host {\r\n  position: fixed;\r\n  left: 50%;\r\n  top: 2.5rem;\r\n  z-index: 9999;\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 100vw;\r\n  pointer-events: none;\r\n  transform: translateX(-50%);\r\n}\r\n.toast {\r\n  min-width: 220px;\r\n  max-width: 90vw;\r\n  background: #fff;\r\n  color: #2563eb;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 16px rgba(37,99,235,0.13);\r\n  padding: 1rem 2rem;\r\n  font-size: 1.08rem;\r\n  font-weight: 500;\r\n  opacity: 0;\r\n  transform: translateY(-40px) scale(0.98);\r\n  transition: opacity 0.3s, transform 0.3s;\r\n  pointer-events: auto;\r\n  border: 1.5px solid #2563eb;\r\n  text-align: center;\r\n}\r\n.toast.success {\r\n  background: #e0f2fe;\r\n  color: #2563eb;\r\n  border-color: #2563eb;\r\n}\r\n.toast.error {\r\n  background: #fef2f2;\r\n  color: #e11d48;\r\n  border-color: #e11d48;\r\n}\r\n.toast.show {\r\n  opacity: 1;\r\n  transform: translateY(0) scale(1);\r\n}\r\n@media (max-width: 600px) {\r\n  .toast {\r\n    padding: 0.7rem 1rem;\r\n    font-size: 0.98rem;\r\n  }\r\n}\r\n","import { Component, h, Prop, State, Watch } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'notification-toast',\r\n  styleUrl: 'notification-toast.css',\r\n  shadow: true,\r\n})\r\nexport class NotificationToast {\r\n  @Prop() message: string = '';\r\n  @Prop() type: 'success' | 'error' = 'success';\r\n  @Prop() duration: number = 3000;\r\n  @State() visible: boolean = false;\r\n\r\n  private hideTimeout?: number;\r\n\r\n  disconnectedCallback() {\r\n    if (this.hideTimeout) {\r\n      clearTimeout(this.hideTimeout);\r\n    }\r\n  }\r\n\r\n  @Watch('message')\r\n  onMessageChange() {\r\n    if (this.hideTimeout) {\r\n      clearTimeout(this.hideTimeout);\r\n    }\r\n\r\n    this.visible = Boolean(this.message);\r\n\r\n    if (this.message) {\r\n      this.hideTimeout = window.setTimeout(() => {\r\n        this.visible = false;\r\n      }, this.duration);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        class={{\r\n          'toast': true,\r\n          'show': this.visible && Boolean(this.message),\r\n          'success': this.type === 'success',\r\n          'error': this.type === 'error',\r\n        }}\r\n      >\r\n        {this.message}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export const API_BASE_URL = 'https://wallet-app-wlvr.onrender.com/';\r\n// export const API_BASE_URL = 'http://localhost:3001';\r\n",":host {\r\n  display: block;\r\n  min-height: 100vh;\r\n  background: #f7f9fb;\r\n  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  max-width: 100vw;\r\n  overflow-x: hidden;\r\n}\r\n\r\nhtml, body {\r\n  overflow-x: hidden !important;\r\n  overflow-y: auto !important;\r\n  width: 100%;\r\n  max-width: 100vw;\r\n  height: 100vh;\r\n  margin: 0;\r\n  padding: 0;\r\n  position: fixed;\r\n  box-sizing: border-box;\r\n}\r\n\r\nheader {\r\n  position: relative;\r\n  left: 0;\r\n  right: 0;\r\n  width: 100vw;\r\n  max-width: 100vw;\r\n  min-width: 0;\r\n  overflow-x: hidden;\r\n  background: #2563eb;\r\n  color: #fff;\r\n  padding: 1.5rem 0;\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n  box-shadow: 0 2px 8px rgba(0,0,0,0.04);\r\n  z-index: 100;\r\n}\r\n\r\nheader h1 {\r\n  font-size: 2.1rem;\r\n  font-weight: 700;\r\n  letter-spacing: 0.01em;\r\n  margin: 0;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  overflow-wrap: break-word;\r\n  white-space: normal;\r\n}\r\n\r\nmain {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 80%;\r\n  width: 100vw;\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  padding: 0 1rem;\r\n}\r\n\r\n@media (max-width: 900px) {\r\n  header h1 {\r\n    font-size: 1.5rem;\r\n  }\r\n  main {\r\n    padding: 0 0.5rem;\r\n  }\r\n}\r\n@media (max-width: 600px) {\r\n  header {\r\n    padding: 1rem 0.2rem;\r\n    font-size: 1.3rem;\r\n  }\r\n  header h1 {\r\n    font-size: 1.1rem;\r\n  }\r\n  main {\r\n    padding: 0 0.2rem;\r\n  }\r\n}\r\n\r\n:host, .theme-light {\r\n  --bg: #f7f9fb;\r\n  --text: #111827;\r\n  --header-bg: #2563eb;\r\n  --header-text: #fff;\r\n  --card-bg: #fff;\r\n  --card-shadow: 0 2px 16px rgba(37,99,235,0.08);\r\n  --input-bg: #fff;\r\n  --input-border: #cbd5e1;\r\n  --input-focus: #2563eb;\r\n  --primary: #2563eb;\r\n  --primary-hover: #1d4ed8;\r\n  --danger: #e11d48;\r\n  --card-radius: 18px;\r\n}\r\n.theme-dark {\r\n  --bg: #181a1b;\r\n  --text: #f3f4f6;\r\n  --header-bg: #2563eb;\r\n  --header-text: #e0e7ef;\r\n  --card-bg: #23272f;\r\n  --card-shadow: 0 2px 16px rgba(0,0,0,0.25);\r\n  --input-bg: #23272f;\r\n  --input-border: #374151;\r\n  --input-focus: #2563eb;\r\n  --primary: #2563eb;\r\n  --primary-hover: #1d4ed8;\r\n  --danger: #e11d48;\r\n  --card-radius: 18px;\r\n}\r\n:host, body, html {\r\n  background: var(--bg) !important;\r\n  color: var(--text);\r\n}\r\nheader {\r\n  background: var(--header-bg);\r\n  color: var(--header-text);\r\n}\r\n.wallet-card, .card, .transactions-container {\r\n  background: var(--card-bg);\r\n  box-shadow: var(--card-shadow);\r\n  color: var(--text);\r\n}\r\ninput[type=\"number\"], input[type=\"text\"] {\r\n  background: var(--input-bg);\r\n  border: 1.5px solid var(--input-border);\r\n  color: var(--text);\r\n}\r\ninput[type=\"number\"]:focus, input[type=\"text\"]:focus {\r\n  border-color: var(--input-focus);\r\n  box-shadow: 0 0 0 3px rgba(37,99,235,0.12);\r\n}\r\n.submit-btn {\r\n  background: var(--primary);\r\n  color: #fff;\r\n}\r\n.submit-btn:hover {\r\n  background: var(--primary-hover);\r\n}\r\n.view-transactions-btn {\r\n  border: 1.5px solid var(--primary);\r\n  color: var(--primary);\r\n}\r\n.view-transactions-btn:hover {\r\n  background: #eff6ff;\r\n}\r\n.error {\r\n  color: var(--danger);\r\n}\r\n","import { Component, Element, h, State, Listen } from '@stencil/core';\r\nimport { API_BASE_URL } from '../../config';\r\n\r\ninterface Config {\r\n  apiBaseUrl: string;\r\n  notificationDuration: number;\r\n}\r\n\r\n@Component({\r\n  tag: 'wallet-app-root',\r\n  styleUrl: 'wallet-app-root.css',\r\n  shadow: true,\r\n})\r\nexport class WalletAppRoot {\r\n  @Element() el!: HTMLElement;\r\n\r\n  @State() page: string = 'setup';\r\n  @State() walletId: string = '';\r\n  @State() theme: 'light' | 'dark' = 'light';\r\n  @State() notification: { message: string; type: 'success' | 'error' } = { message: '', type: 'success' };\r\n\r\n  private readonly config: Config = {\r\n    apiBaseUrl: API_BASE_URL,\r\n    notificationDuration: 3000,\r\n  };\r\n\r\n  private notificationTimeout?: number;\r\n  private mediaQuery?: MediaQueryList;\r\n\r\n  componentWillLoad() {\r\n    this.setupThemeDetection();\r\n    return this.loadSavedWallet();\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.notificationTimeout) {\r\n      window.clearTimeout(this.notificationTimeout);\r\n    }\r\n    if (this.mediaQuery?.removeEventListener) {\r\n      this.mediaQuery.removeEventListener('change', this.handleThemeChange);\r\n    }\r\n  }\r\n\r\n  private setupThemeDetection() {\r\n    try {\r\n      this.mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\r\n      this.theme = this.mediaQuery.matches ? 'dark' : 'light';\r\n      \r\n      if (this.mediaQuery.addEventListener) {\r\n        this.mediaQuery.addEventListener('change', this.handleThemeChange);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to setup theme detection:', error);\r\n      this.theme = 'light';\r\n    }\r\n  }\r\n  @Listen('change', { target: 'window' })\r\n  handleThemeChange(e: MediaQueryListEvent) {\r\n    this.theme = e.matches ? 'dark' : 'light';\r\n  }\r\n\r\n  private async loadSavedWallet() {\r\n    const savedWalletId = localStorage.getItem('walletId');\r\n    if (!savedWalletId) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(`${this.config.apiBaseUrl}/wallet/${savedWalletId}`);\r\n      if (!res.ok) {\r\n        const errorText = await res.text();\r\n        throw new Error(errorText || 'Failed to load wallet');\r\n      }\r\n      this.walletId = savedWalletId;\r\n      this.page = 'dashboard';\r\n    } catch (error: any) {\r\n      console.error('Failed to load wallet:', error);\r\n      this.showNotification(\r\n        error.message === 'Failed to fetch'\r\n          ? 'Unable to connect to backend.'\r\n          : 'Wallet does not exist in the system. Please create a new wallet.',\r\n        'error'\r\n      );\r\n      localStorage.removeItem('walletId');\r\n      this.walletId = '';\r\n      this.page = 'setup';\r\n    }\r\n  }\r\n  \r\n  private showNotification = (message: string, type: 'success' | 'error' = 'success') => {\r\n    if (this.notificationTimeout) {\r\n      window.clearTimeout(this.notificationTimeout);\r\n    }\r\n    \r\n    this.notification = { message, type };\r\n    this.notificationTimeout = window.setTimeout(() => {\r\n      this.notification = { message: '', type: 'success' };\r\n    }, this.config.notificationDuration);\r\n  };\r\n\r\n  private handleWalletCreated = async (event: CustomEvent<{ walletId: string }>) => {\r\n    if (event.detail.walletId) {\r\n      this.walletId = event.detail.walletId;\r\n      localStorage.setItem('walletId', event.detail.walletId);\r\n\r\n      try {\r\n        const res = await fetch(`${this.config.apiBaseUrl}/wallet/${event.detail.walletId}`);\r\n        if (!res.ok) {\r\n          throw new Error('Failed to verify wallet');\r\n        }\r\n        await res.json();\r\n        this.page = 'dashboard';\r\n      } catch (error) {\r\n        console.error('Error verifying wallet:', error);\r\n        this.showNotification('Error loading wallet details', 'error');\r\n        localStorage.removeItem('walletId');\r\n        this.walletId = '';\r\n        this.page = 'setup';\r\n      }\r\n    }\r\n  };\r\n\r\n  private handleShowTransactions = () => {\r\n    if (this.walletId) {\r\n      this.page = 'transactions';\r\n    }\r\n  };\r\n\r\n  private handleBack = () => {\r\n    this.page = 'dashboard';\r\n  };\r\n\r\n  private handleNotificationChange = (event: CustomEvent<{ message: string; type: 'success' | 'error' }>) => {\r\n    if (event.detail.message) {\r\n      this.showNotification(event.detail.message, event.detail.type);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const commonProps = {\r\n      'api-base-url': this.config.apiBaseUrl,\r\n      onNotificationChange: this.handleNotificationChange,\r\n    };\r\n\r\n    return (\r\n      <div class={`theme-${this.theme}`}>\r\n        <header>\r\n          <h1>Wallet App</h1>\r\n        </header>\r\n        <main>\r\n          {this.page === 'setup' && (\r\n            <wallet-setup \r\n              {...commonProps}\r\n              onWalletCreated={this.handleWalletCreated}\r\n            />\r\n          )}\r\n          {this.page === 'dashboard' && this.walletId && (\r\n            <wallet-dashboard \r\n              {...commonProps}\r\n              wallet-id={this.walletId} \r\n              onShowTransactions={this.handleShowTransactions}\r\n            />\r\n          )}\r\n          {this.page === 'transactions' && this.walletId && (\r\n            <wallet-transactions \r\n              {...commonProps}\r\n              wallet-id={this.walletId} \r\n              onBack={this.handleBack}\r\n            />\r\n          )}\r\n        </main>\r\n        <notification-toast \r\n          message={this.notification.message} \r\n          type={this.notification.type} \r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","/* Minimalist and modern wallet dashboard UI - Reduced max width for no horizontal scroll */\r\n:host {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  background: #f7f9fb;\r\n  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;\r\n}\r\n\r\n.wallet-card {\r\n  background: #fff;\r\n  border-radius: 18px;\r\n  box-shadow: 0 2px 16px rgba(37,99,235,0.08);\r\n  padding: 2.5rem 2rem;\r\n  width: 100%;\r\n  max-width: 400px;\r\n  min-width: 0;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n@media (max-width: 900px) {\r\n  .wallet-card {\r\n    max-width: 90vw;\r\n    padding: 2rem 1rem;\r\n  }\r\n}\r\n@media (max-width: 600px) {\r\n  .wallet-card {\r\n    padding: 1.2rem 0.5rem;\r\n    max-width: 100vw;\r\n    min-width: 0;\r\n    border-radius: 12px;\r\n  }\r\n  h2 {\r\n    font-size: 1.3rem;\r\n  }\r\n  .balance-box {\r\n    padding: 0.8rem 0.5rem;\r\n    font-size: 1rem;\r\n  }\r\n  form {\r\n    gap: 0.7rem;\r\n  }\r\n  input[type=\"number\"],\r\n  input[type=\"text\"],\r\n  .submit-btn,\r\n  .view-transactions-btn {\r\n    font-size: 0.95rem;\r\n    padding: 0.7rem 0.7rem;\r\n  }\r\n}\r\n@media (max-width: 400px) {\r\n  .wallet-card {\r\n    padding: 0.7rem 0.2rem 0.7rem 0.2rem;\r\n  }\r\n  .balance-box {\r\n    padding: 0.5rem 0.2rem;\r\n    font-size: 0.95rem;\r\n  }\r\n}\r\n\r\n.card {\r\n  background: #fff;\r\n  border-radius: 1.25rem;\r\n  box-shadow: 0 2px 16px 0 rgba(37,99,235,0.08);\r\n  padding: 2rem 1.5rem;\r\n  margin: 0 auto;\r\n  max-width: 400px;\r\n  width: 100%;\r\n  min-width: 360px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n@media (max-width: 500px) {\r\n  .card {\r\n    padding: 1.5rem 0.5rem;\r\n    max-width: 100vw;\r\n    min-width: 0;\r\n  }\r\n}\r\n\r\nh2 {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  margin: 0 0 1.5rem 0;\r\n  color: #000000;\r\n  text-align: center;\r\n}\r\n\r\nh2 span {\r\n  color: #2563eb;\r\n}\r\n\r\n.balance-box {\r\n  background: #f0f9ff;\r\n  color: #0369a1;\r\n  padding: 1rem 2rem;\r\n  border-radius: 12px;\r\n  font-size: 1.1rem;\r\n  font-weight: 500;\r\n  margin-bottom: 2rem;\r\n  width: 100%;\r\n  text-align: center;\r\n  box-sizing: border-box;\r\n}\r\n\r\nform {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.1rem;\r\n  margin-bottom: 1.2rem;\r\n}\r\ninput[type=\"number\"],\r\ninput[type=\"text\"],\r\n.submit-btn,\r\n.view-transactions-btn {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\ninput[type=\"number\"],\r\ninput[type=\"text\"] {\r\n  padding: 0.8rem 1rem;\r\n  border: 1.5px solid #cbd5e1;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  background: #fff;\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n}\r\ninput[type=\"number\"]:focus,\r\ninput[type=\"text\"]:focus {\r\n  outline: none;\r\n  border-color: #2563eb;\r\n  box-shadow: 0 0 0 3px rgba(37,99,235,0.12);\r\n}\r\n\r\n.toggle-row {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n  margin: 0.5rem 0;\r\n}\r\n\r\n.toggle-info {\r\n  color: #64748b;\r\n  font-size: 0.95rem;\r\n}\r\n\r\n.toggle-switch {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 26px;\r\n}\r\n\r\n.toggle-switch input {\r\n  opacity: 0;\r\n  width: 0;\r\n  height: 0;\r\n}\r\n\r\n.toggle-slider {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: #e11d48;\r\n  transition: .3s;\r\n  border-radius: 26px;\r\n}\r\n\r\n.toggle-slider:before {\r\n  position: absolute;\r\n  content: \"\";\r\n  height: 18px;\r\n  width: 18px;\r\n  left: 4px;\r\n  bottom: 4px;\r\n  background-color: white;\r\n  transition: .3s;\r\n  border-radius: 50%;\r\n}\r\n\r\ninput:checked + .toggle-slider {\r\n  background-color: #2563eb;\r\n}\r\n\r\ninput:checked + .toggle-slider:before {\r\n  transform: translateX(24px);\r\n}\r\n\r\n.toggle-label {\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.toggle-label.credit {\r\n  color: #2563eb;\r\n}\r\n\r\n.toggle-label.debit {\r\n  color: #e11d48;\r\n}\r\n\r\n.submit-btn {\r\n  background: #2563eb;\r\n  color: white;\r\n  border: none;\r\n  padding: 0.8rem;\r\n  border-radius: 8px;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  margin-top: 0.5rem;\r\n}\r\n\r\n.submit-btn:hover {\r\n  background: #1d4ed8;\r\n}\r\n\r\n.submit-btn:disabled {\r\n  background: #94a3b8;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.view-transactions-btn {\r\n  background: none;\r\n  border: 1.5px solid #2563eb;\r\n  color: #2563eb;\r\n  padding: 0.8rem;\r\n  border-radius: 8px;\r\n  font-size: 0.95rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  margin-top: 1rem;\r\n  transition: all 0.2s;\r\n}\r\n\r\n.view-transactions-btn:hover {\r\n  background: #eff6ff;\r\n}\r\n\r\n.error {\r\n  color: #e11d48;\r\n  font-size: 0.9rem;\r\n  margin-top: 1rem;\r\n  text-align: center;\r\n}\r\n\r\n.wallet-card.loading {\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 1.5rem;\r\n  min-height: 200px;\r\n}\r\n\r\n.wallet-card.error {\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 200px;\r\n  color: #ef4444;\r\n  text-align: center;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 40px;\r\n  height: 40px;\r\n  border: 3px solid #f3f3f3;\r\n  border-top: 3px solid #2563eb;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n","import { Component, Event, EventEmitter, h, Prop, State, Watch } from '@stencil/core';\r\nimport { API_BASE_URL } from '../../config';\r\n\r\n@Component({\r\n  tag: 'wallet-dashboard',\r\n  styleUrl: 'wallet-dashboard.css',\r\n  shadow: true,\r\n})\r\nexport class WalletDashboard {\r\n  @Prop() walletId: string;\r\n  @Event() showTransactions: EventEmitter<void>;\r\n  @Event() notificationChange: EventEmitter<{ message: string; type: 'success' | 'error' }>;\r\n\r\n  @State() wallet: any = null;\r\n  @State() amount: string = '';\r\n  @State() description: string = '';\r\n  @State() isCredit: boolean = true;\r\n  @State() loading: boolean = false;\r\n  @State() loadingWallet: boolean = false;\r\n\r\n  async componentWillLoad() {\r\n    if (this.walletId) {\r\n      return this.fetchWallet();\r\n    }\r\n  }\r\n\r\n  @Watch('walletId')\r\n  async walletIdChanged(newValue: string, oldValue: string) {\r\n    if (newValue && newValue !== oldValue) {\r\n      await this.fetchWallet();\r\n    }\r\n  }\r\n\r\n  async fetchWallet() {\r\n    if (!this.walletId) return;\r\n    \r\n    this.loadingWallet = true;\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}/wallet/${this.walletId}`);\r\n      if (!res.ok) {\r\n        throw new Error(await res.text() || 'Network error');\r\n      }\r\n      const wallet = await res.json();\r\n      this.wallet = {\r\n        id: wallet.id || wallet._id, // Support both id and _id\r\n        balance: wallet.balance,\r\n        name: wallet.name,\r\n        date: wallet.date ? new Date(wallet.date) : undefined,\r\n      };\r\n    } catch (err) {\r\n      console.error('Wallet fetch error:', err);\r\n      this.notificationChange.emit({ \r\n        message: err instanceof Error ? err.message : 'Error loading wallet', \r\n        type: 'error' \r\n      });\r\n      this.wallet = null;\r\n    } finally {\r\n      this.loadingWallet = false;\r\n    }\r\n  }\r\n\r\n  async handleTransaction(e: Event) {\r\n    e.preventDefault();\r\n    if (!this.amount) {\r\n      this.notificationChange.emit({ message: 'Amount is required', type: 'error' });\r\n      return;\r\n    }\r\n    // Require amount > 0\r\n    if (parseFloat(this.amount) <= 0) {\r\n      this.notificationChange.emit({ message: 'Amount must be greater than 0', type: 'error' });\r\n      return;\r\n    }\r\n    this.loading = true;\r\n    try {\r\n      const amt = parseFloat(this.amount) * (this.isCredit ? 1 : -1);\r\n      const res = await fetch(`${API_BASE_URL}/transact/${this.walletId}`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ amount: amt, description: this.description }),\r\n      });\r\n      \r\n      const data = await res.json();\r\n      if (!res.ok) {\r\n        this.notificationChange.emit({ message: data.error || 'Transaction failed', type: 'error' });\r\n        return;\r\n      }\r\n      // Update wallet balance from response\r\n      if (this.wallet) {\r\n        this.wallet.balance = data.balance;\r\n      }\r\n      this.amount = '';\r\n      this.description = '';\r\n      this.notificationChange.emit({ message: 'Transaction successful!', type: 'success' });\r\n    } catch (err) {\r\n      this.notificationChange.emit({ message: 'Error processing transaction', type: 'error' });\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.loadingWallet) {\r\n      return (\r\n        <div class=\"wallet-card loading\">\r\n          <div class=\"loading-spinner\"></div>\r\n          <p>Loading wallet details...</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!this.wallet) {\r\n      return (\r\n        <div class=\"wallet-card error\">\r\n          <p>Could not load wallet details. Please try again.</p>\r\n        </div>\r\n      );\r\n    }\r\n    \r\n    return (\r\n      <div class=\"wallet-card\">\r\n        <h2>Welcome, <span>{this.wallet.name}</span></h2>\r\n        <div class=\"balance-box\">Balance: {this.wallet.balance.toFixed(4)}</div>\r\n        <form onSubmit={e => this.handleTransaction(e)}>\r\n          <input \r\n            type=\"number\" \r\n            step=\"0.0001\" \r\n            min=\"0.0001\"\r\n            pattern=\"^\\\\d*\\\\.?\\\\d{0,4}$\"\r\n            onInput={e => {\r\n              const value = (e.target as HTMLInputElement).value;\r\n              const parts = value.split('.');\r\n              if (parts[1] && parts[1].length > 4) {\r\n                (e.target as HTMLInputElement).value = `${parts[0]}.${parts[1].slice(0, 4)}`;\r\n              }\r\n              this.amount = (e.target as HTMLInputElement).value;\r\n            }}\r\n            value={this.amount} \r\n            placeholder=\"Amount\" \r\n            required \r\n          />\r\n          <input \r\n            type=\"text\" \r\n            value={this.description} \r\n            onInput={e => this.description = (e.target as HTMLInputElement).value} \r\n            placeholder=\"Description\" \r\n          />\r\n          <div class=\"toggle-row\">\r\n            <span class=\"toggle-info\">Select transaction type</span>\r\n            <label class=\"toggle-switch\">\r\n              <input type=\"checkbox\" checked={this.isCredit} onChange={() => this.isCredit = !this.isCredit} />\r\n              <span class=\"toggle-slider\"></span>\r\n            </label>\r\n            <span class={\"toggle-label \" + (this.isCredit ? \"credit\" : \"debit\")}>\r\n              {this.isCredit ? 'Credit' : 'Debit'}\r\n            </span>\r\n          </div>\r\n          <button class=\"submit-btn\" type=\"submit\" disabled={this.loading}>\r\n            {this.loading ? 'Processing...' : 'Submit'}\r\n          </button>\r\n        </form>\r\n        <button \r\n          class=\"view-transactions-btn\" \r\n          onClick={() => this.showTransactions.emit()}>\r\n          View Transactions\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n",".card {\r\n  background: #fff;\r\n  border-radius: 1.25rem;\r\n  box-shadow: 0 2px 16px 0 rgba(37,99,235,0.08);\r\n  padding: 2rem 1.5rem;\r\n  margin: 0 auto;\r\n  max-width: 400px;\r\n  width: 100%;\r\n  min-width: 360px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n@media (max-width: 500px) {\r\n  .card {\r\n    padding: 1.5rem 0.5rem;\r\n    max-width: 100vw;\r\n    min-width: 0;\r\n  }\r\n}\r\n\r\nh2 {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  margin-bottom: 1.2rem;\r\n  margin-top: 0;\r\n  letter-spacing: 0.01em;\r\n  color: #2563eb;\r\n  text-align: center;\r\n}\r\nform {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.1rem;\r\n  margin-bottom: 1.2rem;\r\n}\r\ninput[type=\"number\"],\r\ninput[type=\"text\"] {\r\n  padding: 0.6rem 0.8rem;\r\n  border: 1.5px solid #cbd5e1;\r\n  border-radius: 7px;\r\n  font-size: 1rem;\r\n  background: #f8fafc;\r\n  color: #22223b;\r\n  margin-bottom: 0.2rem;\r\n}\r\ninput[type=\"number\"]::-webkit-inner-spin-button,\r\ninput[type=\"number\"]::-webkit-outer-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n.submit-btn {\r\n  width: 100%;\r\n  padding: 0.7rem 0;\r\n  background: #2563eb;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 7px;\r\n  font-weight: 600;\r\n  font-size: 1.1rem;\r\n  margin-top: 0.5rem;\r\n  margin-bottom: 0.7rem;\r\n  transition: background 0.2s;\r\n}\r\n.submit-btn:disabled {\r\n  background: #cbd5e1;\r\n  color: #64748b;\r\n  cursor: not-allowed;\r\n}\r\n.submit-btn:hover:not(:disabled) {\r\n  background: #1d4ed8;\r\n}\r\n.error {\r\n  color: #e11d48;\r\n  background: #fef2f2;\r\n  border-radius: 8px;\r\n  padding: 0.7rem 1rem;\r\n  margin-top: 1rem;\r\n  font-size: 1.05rem;\r\n  border: 1px solid #fecaca;\r\n}\r\n","import { Component, Event, EventEmitter, h, State } from '@stencil/core';\r\nimport { API_BASE_URL } from '../../config';\r\n\r\n@Component({\r\n  tag: 'wallet-setup',\r\n  styleUrl: 'wallet-setup.css',\r\n  shadow: true,\r\n})\r\nexport class WalletSetup {\r\n  @Event() walletCreated: EventEmitter<{ walletId: string }>;\r\n  @Event() notificationChange: EventEmitter<{ message: string; type: 'success' | 'error' }>;\r\n  @State() name: string = '';\r\n  @State() balance: string = '';\r\n  @State() loading: boolean = false;\r\n  @State() error: string = '';\r\n\r\n  async handleSubmit(e: Event) {\r\n    e.preventDefault();\r\n    this.error = '';\r\n    if (!this.name || !this.balance) {\r\n      this.notificationChange.emit({ message: 'Name and balance are required', type: 'error' });\r\n      return;\r\n    }\r\n    // Require balance > 0\r\n    if (Number(this.balance) < 0) {\r\n      this.notificationChange.emit({ message: 'Initial balance must be greater than 0', type: 'error' });\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n    try {\r\n      const res = await fetch(`${API_BASE_URL}/setup`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ name: this.name, balance: Number(this.balance) }),\r\n      });\r\n\r\n      if (!res.ok) {\r\n        const errData = await res.json().catch(() => ({}));\r\n        throw new Error(errData.error || 'Failed to create wallet');\r\n      }\r\n\r\n      const data = await res.json();\r\n      \r\n      // First notify about successful creation\r\n      this.notificationChange.emit({ \r\n        message: 'Wallet created successfully!', \r\n        type: 'success' \r\n      });\r\n\r\n      // Clear form\r\n      this.name = '';\r\n      this.balance = '';\r\n      \r\n      // Then emit wallet created event to trigger navigation\r\n      this.walletCreated.emit({ walletId: data.id });\r\n\r\n    } catch (err) {\r\n      const errorMessage = err instanceof Error ? err.message : 'Failed to create wallet';\r\n      this.notificationChange.emit({ \r\n        message: errorMessage,\r\n        type: 'error' \r\n      });\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  private handleBalanceInput = (e: Event) => {\r\n    const input = e.target as HTMLInputElement;\r\n    const value = input.value;\r\n    const parts = value.split('.');\r\n    if (parts[1] && parts[1].length > 4) {\r\n      input.value = `${parts[0]}.${parts[1].slice(0, 4)}`;\r\n    }\r\n    this.balance = input.value;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"card\">\r\n        <h2>Setup Wallet</h2>\r\n        <form onSubmit={e => this.handleSubmit(e)}>\r\n          <input type=\"text\" value={this.name} onInput={e => this.name = (e.target as HTMLInputElement).value} placeholder=\"Name\" required />\r\n          <input\r\n            type=\"number\"\r\n            step=\"0.0001\"\r\n            min=\"0.0001\"\r\n            pattern=\"^\\\\d*\\\\.?\\\\d{0,4}$\"\r\n            onInput={this.handleBalanceInput}\r\n            value={this.balance}\r\n            placeholder=\"Initial Balance\"\r\n            required\r\n          />\r\n          <button class=\"submit-btn\" type=\"submit\" disabled={this.loading}>{this.loading ? 'Creating...' : 'Create Wallet'}</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  background: #f7f9fb;\r\n  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;\r\n}\r\n\r\n.transactions-container {\r\n  background: #fff;\r\n  border-radius: 18px;\r\n  box-shadow: 0 2px 16px rgba(0,0,0,0.07);\r\n  padding: 2rem 2rem 1.5rem 2rem;\r\n  margin: 1.5rem auto 0 auto;\r\n  width: 100%;\r\n  max-width: 900px;\r\n  min-width: 0;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n}\r\n\r\n.top-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  margin-bottom: 1.5rem;\r\n  background: none;\r\n  border-radius: 0;\r\n  box-shadow: none;\r\n  padding: 0;\r\n}\r\n.left-section {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 2rem;\r\n}\r\n.top-bar .back-btn {\r\n  background: #f7f9fb;\r\n  color: #2563eb;\r\n  border: 1.5px solid #2563eb;\r\n  font-weight: 600;\r\n  border-radius: 8px;\r\n  padding: 0.45rem 1.1rem;\r\n  font-size: 1rem;\r\n  transition: background 0.2s, color 0.2s;\r\n  box-shadow: 0 1px 4px rgba(0,0,0,0.03);\r\n  margin-right: 0;\r\n}\r\n.top-bar .back-btn:hover {\r\n  background: #2563eb;\r\n  color: #fff;\r\n}\r\n.top-bar h2 {\r\n  margin: 0;\r\n  font-size: 2.2rem;\r\n  font-weight: 700;\r\n  color: #111827;\r\n  flex: 1;\r\n  text-align: center;\r\n}\r\n\r\n.export-btn {\r\n  background: #2563eb;\r\n  color: white;\r\n  border: none;\r\n  font-weight: 600;\r\n  border-radius: 8px;\r\n  padding: 0.45rem 1.1rem;\r\n  font-size: 1rem;\r\n  transition: background 0.2s;\r\n  box-shadow: 0 1px 4px rgba(0,0,0,0.03);\r\n  cursor: pointer;\r\n  margin-left: 0;\r\n}\r\n.export-btn:hover {\r\n  background: #1d4ed8;\r\n}\r\n\r\n.transactions-table {\r\n  width: 100%;\r\n  border-collapse: separate;\r\n  border-spacing: 0;\r\n  background: #f8fafc;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 12px rgba(0,0,0,0.04);\r\n  overflow-x: auto;\r\n  margin-bottom: 1.2rem;\r\n  display: block;\r\n}\r\n.transactions-table thead, .transactions-table tbody {\r\n  display: table;\r\n  width: 100%;\r\n  table-layout: fixed;\r\n}\r\n.transactions-table th, .transactions-table td {\r\n  padding: 0.5rem 0.7rem;\r\n  text-align: left;\r\n  white-space: normal;\r\n  word-break: break-word;\r\n  overflow-wrap: break-word;\r\n}\r\n.transactions-table th {\r\n  background: #f1f5f9;\r\n  color: #334155;\r\n  font-weight: 600;\r\n  font-size: 1rem;\r\n  border-bottom: 1px solid #e2e8f0;\r\n  cursor: pointer;\r\n}\r\n.transactions-table td {\r\n  color: #22223b;\r\n  font-size: 0.98rem;\r\n  border-bottom: 1px solid #f1f5f9;\r\n}\r\n.transactions-table tr:last-child td {\r\n  border-bottom: none;\r\n}\r\n.transactions-table tr:nth-child(even) td {\r\n  background: #fff;\r\n}\r\n\r\n.pagination {\r\n  display: flex;\r\n  gap: 1.2rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n.pagination button {\r\n  background: #e5edfa;\r\n  color: #22223b;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  font-size: 1.1rem;\r\n  padding: 0.7rem 1.5rem;\r\n  transition: background 0.2s;\r\n}\r\n.pagination button:disabled {\r\n  background: #f1f5f9;\r\n  color: #b0b7c3;\r\n  cursor: not-allowed;\r\n}\r\n.pagination button:hover:not(:disabled) {\r\n  background: #c7d7f7;\r\n}\r\n\r\n.error {\r\n  color: #e11d48;\r\n  background: #fef2f2;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-top: 2rem;\r\n  font-size: 1.05rem;\r\n  border: 1px solid #fecaca;\r\n}\r\n\r\n@media (max-width: 900px) {\r\n  .transactions-container {\r\n    max-width: 98vw;\r\n    padding: 1.2rem 0.5rem 1rem 0.5rem;\r\n  }\r\n  .top-bar h2 {\r\n    font-size: 1.3rem;\r\n  }\r\n}\r\n@media (max-width: 700px) {\r\n  .transactions-container {\r\n    max-width: 98vw;\r\n    min-width: 0;\r\n    padding: 1rem 0.3rem 0.7rem 0.3rem;\r\n  }\r\n  .transactions-table {\r\n    font-size: 0.95rem;\r\n    display: block;\r\n    overflow-x: auto;\r\n  }\r\n  .transactions-table th, .transactions-table td {\r\n    padding: 0.4rem 0.3rem;\r\n    font-size: 0.95rem;\r\n    white-space: normal;\r\n    word-break: break-word;\r\n    overflow-wrap: break-word;\r\n  }\r\n}\r\n@media (max-width: 600px) {\r\n  .transactions-container {\r\n    padding: 0.7rem 0.2rem 0.7rem 0.2rem;\r\n    min-width: 0;\r\n  }\r\n  .top-bar {\r\n    flex-direction: column;\r\n    align-items: stretch;\r\n    gap: 0.7rem;\r\n  }\r\n  .top-bar h2 {\r\n    font-size: 1.1rem;\r\n    text-align: left;\r\n  }\r\n  .export-btn, .back-btn {\r\n    width: 100%;\r\n    font-size: 0.95rem;\r\n    padding: 0.7rem 0.7rem;\r\n  }\r\n}\r\n@media (max-width: 500px) {\r\n  .transactions-container {\r\n    padding: 0.7rem 0.1rem 0.7rem 0.1rem;\r\n  }\r\n  .transactions-table th, .transactions-table td {\r\n    font-size: 0.92rem;\r\n    padding: 0.3rem 0.2rem;\r\n  }\r\n}\r\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\r\nimport { API_BASE_URL } from '../../config';\r\n\r\n@Component({\r\n  tag: 'wallet-transactions',\r\n  styleUrl: 'wallet-transactions.css',\r\n  shadow: true,\r\n})\r\nexport class WalletTransactions {\r\n  @Prop() walletId: string;\r\n  @Event() back: EventEmitter<void>;\r\n  @Event() notificationChange: EventEmitter<{ message: string; type: 'success' | 'error' }>;\r\n\r\n  async handleExportCSV() {\r\n    try {\r\n      const transactionRes = await fetch(`${API_BASE_URL}/transactions?walletId=${this.walletId}&skip=0&limit=10000`);\r\n      if (!transactionRes.ok) {\r\n        throw new Error(`Failed to fetch transactions: ${transactionRes.statusText}`);\r\n      }\r\n      const data = await transactionRes.json();\r\n\r\n      let username = 'wallet';\r\n      try {\r\n        const walletRes = await fetch(`${API_BASE_URL}/wallet/${this.walletId}`);\r\n        if (!walletRes.ok) {\r\n          throw new Error(`Failed to fetch wallet: ${walletRes.statusText}`);\r\n        }\r\n        const wallet = await walletRes.json();\r\n        username = wallet.name || 'wallet';\r\n      } catch (walletErr) {\r\n        console.warn('Failed to fetch wallet name, using default:', walletErr);\r\n      }\r\n\r\n      const headers = ['Date', 'Amount', 'Description', 'Type', 'Balance'];\r\n      const rows = data.map((transaction: any) => [\r\n        transaction.date\r\n          ? new Date(transaction.date).toLocaleString()\r\n          : (transaction.transaction_time_stamp\r\n              ? new Date(transaction.transaction_time_stamp).toLocaleString()\r\n              : ''),\r\n        transaction.amount?.toFixed(4) ?? '',\r\n        transaction.description || '',\r\n        transaction.type ? (transaction.type.charAt(0).toUpperCase() + transaction.type.slice(1).toLowerCase()) : '',\r\n        transaction.balance?.toFixed(4) ?? ''\r\n      ]);\r\n\r\n      let csvContent = headers.join(',') + '\\n';\r\n      csvContent += rows.map(r => r.map(field => \r\n        '\"' + (field != null ? String(field).replace(/\"/g, '\"\"').replace(/\\n/g, ' ') : '').trim() + '\"'\r\n      ).join(',')).join('\\n');\r\n\r\n      const now = new Date();\r\n      const dateStr = `${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,'0')}-${String(now.getDate()).padStart(2,'0')}`;\r\n      const safeUsername = username.replace(/[^a-zA-Z0-9_-]/g, '');\r\n      const filename = `${safeUsername}_transactions_${dateStr}.csv`;\r\n\r\n      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = filename;\r\n      a.click();\r\n      URL.revokeObjectURL(url);\r\n\r\n      this.notificationChange.emit({ message: 'Transactions exported successfully', type: 'success' });\r\n    } catch (err) {\r\n      console.error('Export failed:', err);\r\n      this.notificationChange.emit({ \r\n        message: err instanceof Error ? err.message : 'Failed to export transactions', \r\n        type: 'error' \r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class=\"transactions-container\">\r\n        <div class=\"top-bar\">\r\n          <button class=\"back-btn\" onClick={() => this.back.emit()}>&larr; Back</button>\r\n          <h2>Transactions</h2>\r\n          <button class=\"export-btn\" onClick={() => this.handleExportCSV()}>Export CSV</button>\r\n        </div>\r\n        <wallet-transactions-table wallet-id={this.walletId} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  background: #f7f9fb;\r\n  font-family: 'Inter', 'Segoe UI', Arial, sans-serif;\r\n}\r\n\r\n.transactions-container {\r\n  background: #fff;\r\n  border-radius: 18px;\r\n  box-shadow: 0 2px 16px rgba(0,0,0,0.07);\r\n  padding: 2rem 2rem 1.5rem 2rem;\r\n  margin: 1.5rem auto 0 auto;\r\n  width: 100%;\r\n  max-width: 900px;\r\n  min-width: 320px;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n}\r\n\r\n.top-bar {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 2rem;\r\n  margin-bottom: 1.5rem;\r\n  background: none;\r\n  border-radius: 0;\r\n  box-shadow: none;\r\n  padding: 0;\r\n}\r\n.top-bar .back-btn {\r\n  background: #f7f9fb;\r\n  color: #2563eb;\r\n  border: 1.5px solid #2563eb;\r\n  font-weight: 600;\r\n  border-radius: 8px;\r\n  padding: 0.45rem 1.1rem;\r\n  font-size: 1rem;\r\n  transition: background 0.2s, color 0.2s;\r\n  box-shadow: 0 1px 4px rgba(0,0,0,0.03);\r\n  margin-right: 1.5rem;\r\n}\r\n.top-bar .back-btn:hover {\r\n  background: #2563eb;\r\n  color: #fff;\r\n}\r\n.top-bar h2 {\r\n  margin: 0;\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #22223b;\r\n}\r\n\r\n.export-btn {\r\n  background: #2563eb;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  font-size: 1.1rem;\r\n  padding: 0.7rem 2rem;\r\n  margin-bottom: 1.2rem;\r\n  margin-top: 0.5rem;\r\n  transition: background 0.2s;\r\n}\r\n.export-btn:hover {\r\n  background: #1d4ed8;\r\n}\r\n\r\n.table-container {\r\n  width: 100%;\r\n  overflow-x: auto;\r\n  margin-top: 1.5rem;\r\n  background: none;\r\n}\r\n.transactions-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n  background: #f7f9fb;\r\n  font-size: 1rem;\r\n  min-width: 600px;\r\n}\r\n.transactions-table thead, .transactions-table tbody {\r\n  display: table;\r\n  width: 100%;\r\n  table-layout: fixed;\r\n}\r\n.transactions-table th, .transactions-table td {\r\n  padding: 0.9rem 1.1rem;\r\n  text-align: left;\r\n}\r\n.transactions-table th {\r\n  background: #f1f5f9;\r\n  font-weight: 600;\r\n  color: #22223b;\r\n  font-size: 1.05rem;\r\n}\r\n.transactions-table tr {\r\n  background: #fff;\r\n  border-bottom: 1px solid #e5e7eb;\r\n}\r\n.transactions-table tr:last-child {\r\n  border-bottom: none;\r\n}\r\n.transactions-table tr:nth-child(even) td {\r\n  background: #fff;\r\n}\r\n\r\n.pagination {\r\n  display: flex;\r\n  gap: 1.2rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n.pagination button {\r\n  background: #e5edfa;\r\n  color: #22223b;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-weight: 600;\r\n  font-size: 1.1rem;\r\n  padding: 0.7rem 1.5rem;\r\n  transition: background 0.2s;\r\n}\r\n.pagination button:disabled {\r\n  background: #f1f5f9;\r\n  color: #b0b7c3;\r\n  cursor: not-allowed;\r\n}\r\n.pagination button:hover:not(:disabled) {\r\n  background: #c7d7f7;\r\n}\r\n\r\n.error {\r\n  color: #e11d48;\r\n  background: #fef2f2;\r\n  border-radius: 8px;\r\n  padding: 1rem;\r\n  margin-top: 2rem;\r\n  font-size: 1.05rem;\r\n  border: 1px solid #fecaca;\r\n}\r\n\r\n@media (max-width: 900px) {\r\n  .transactions-table {\r\n    font-size: 0.95rem;\r\n    min-width: 480px;\r\n  }\r\n  .transactions-table th, .transactions-table td {\r\n    padding: 0.7rem 0.7rem;\r\n  }\r\n}\r\n@media (max-width: 700px) {\r\n  .transactions-container {\r\n    max-width: 98vw;\r\n    min-width: 0;\r\n    padding: 1rem 0.3rem 0.7rem 0.3rem;\r\n  }\r\n  .transactions-table {\r\n    font-size: 0.95rem;\r\n    display: block;\r\n    overflow-x: auto;\r\n  }\r\n  .transactions-table th, .transactions-table td {\r\n    padding: 0.4rem 0.3rem;\r\n    font-size: 0.95rem;\r\n    white-space: normal;\r\n    word-break: break-word;\r\n    overflow-wrap: break-word;\r\n  }\r\n}\r\n@media (max-width: 600px) {\r\n  .table-container {\r\n    margin-top: 0.7rem;\r\n  }\r\n  .transactions-table {\r\n    font-size: 0.9rem;\r\n    min-width: 350px;\r\n  }\r\n  .transactions-table th, .transactions-table td {\r\n    padding: 0.5rem 0.4rem;\r\n  }\r\n}\r\n@media (max-width: 500px) {\r\n  .transactions-container {\r\n    padding: 0.7rem 0.1rem 0.7rem 0.1rem;\r\n  }\r\n  .transactions-table th, .transactions-table td {\r\n    font-size: 0.92rem;\r\n    padding: 0.3rem 0.2rem;\r\n  }\r\n}\r\n","import { Component, h, Prop, State, Watch } from '@stencil/core';\r\nimport { API_BASE_URL } from '../../config';\r\n\r\n@Component({\r\n  tag: 'wallet-transactions-table',\r\n  styleUrl: 'wallet-transactions-table.css',\r\n  shadow: false\r\n})\r\nexport class WalletTransactionsTable {\r\n  @Prop() walletId: string;\r\n\r\n  @State() transactions: any[] = [];\r\n  @State() total: number = 0;\r\n  @State() skip: number = 0;\r\n  @State() limit: number = 5;\r\n  @State() loading: boolean = false;\r\n  @State() error: string = '';\r\n  @State() sortBy: string = 'transaction_time_stamp';\r\n  @State() sortDir: 'asc' | 'desc' = 'desc';\r\n\r\n  private cachedData: string = '';\r\n\r\n  componentWillLoad() {\r\n    this.fetchTransactions();\r\n  }\r\n\r\n  private shouldFetchData() {\r\n    const newData = JSON.stringify({\r\n      walletId: this.walletId,\r\n      skip: this.skip,\r\n      limit: this.limit,\r\n      sortBy: this.sortBy,\r\n      sortDir: this.sortDir\r\n    });\r\n    if (newData !== this.cachedData) {\r\n      this.cachedData = newData;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async fetchTransactions() {\r\n    if (!this.shouldFetchData()) return;\r\n\r\n    try {\r\n      this.loading = true;\r\n\r\n      const res = await fetch(`${API_BASE_URL}/transactions?walletId=${this.walletId}&skip=${this.skip}&limit=${this.limit}&sortBy=${this.sortBy}&sortDir=${this.sortDir}`);\r\n      if (!res.ok) throw new Error('Failed to fetch transactions');\r\n      const data = await res.json();\r\n\r\n      const countRes = await fetch(`${API_BASE_URL}/transactions/count?walletId=${this.walletId}`);\r\n      if (!countRes.ok) throw new Error('Failed to fetch transaction count');\r\n      const countData = await countRes.json();\r\n\r\n      this.transactions = data;\r\n      this.total = countData.total;\r\n      this.error = '';\r\n    } catch (err) {\r\n      this.error = (err as Error).message;\r\n    } finally {\r\n      this.loading = false;\r\n    }\r\n  }\r\n\r\n  @Watch('walletId')\r\n  walletIdChanged() {\r\n    this.fetchTransactions();\r\n  }\r\n\r\n  private handleSort = (field: string) => {\r\n    const newDir = this.sortBy === field ? (this.sortDir === 'asc' ? 'desc' : 'asc') : 'desc';\r\n    this.sortBy = field;\r\n    this.sortDir = newDir;\r\n    this.fetchTransactions();\r\n  };\r\n\r\n  private handlePaginate = (skip: number) => {\r\n    this.skip = skip;\r\n    this.fetchTransactions();\r\n  };\r\n\r\n  private arrow = (field: string) => {\r\n    if (this.sortBy !== field) return <span style={{ opacity: '0.3' }}>↑↓</span>;\r\n    return this.sortDir === 'asc' ? <b>↑</b> : <b>↓</b>;\r\n  };\r\n\r\n  render() {\r\n    const isFirstPage = this.skip === 0;\r\n    const isLastPage = this.skip + this.limit >= this.total;\r\n    return (\r\n      <div class=\"table-container\" style={{ position: 'relative' }}>\r\n        <table class=\"transactions-table\" style={{ position: 'relative' }}>\r\n          <thead>\r\n            <tr>\r\n              <th onClick={() => this.handleSort('transaction_time_stamp')} style={{ cursor: 'pointer' }}>\r\n                Date {this.arrow('transaction_time_stamp')}\r\n              </th>\r\n              <th onClick={() => this.handleSort('amount')} style={{ cursor: 'pointer' }}>\r\n                Amount {this.arrow('amount')}\r\n              </th>\r\n              <th>Description</th>\r\n              <th>Type</th>\r\n              <th>Balance</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {this.transactions.map(transaction => (\r\n              <tr>\r\n                <td>{transaction.date ? new Date(transaction.date).toLocaleString() : ''}</td>\r\n                <td>{typeof transaction.amount === 'number' ? transaction.amount.toFixed(4) : ''}</td>\r\n                <td>{transaction.description || ''}</td>\r\n                <td>{transaction.type ? (transaction.type.charAt(0).toUpperCase() + transaction.type.slice(1).toLowerCase()) : ''}</td>\r\n                <td>{typeof transaction.balance === 'number' ? transaction.balance.toFixed(4) : ''}</td>\r\n              </tr>\r\n            ))}\r\n            {this.transactions.length === 0 && !this.loading && (\r\n              <tr>\r\n                <td colSpan={5} style={{ textAlign: 'center', padding: '2rem' }}>\r\n                  No transactions found\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n        <div class=\"pagination\">\r\n          <button disabled={isFirstPage || this.loading}\r\n            onClick={() => this.handlePaginate(Math.max(0, this.skip - this.limit))}>\r\n            Prev\r\n          </button>\r\n          <button disabled={isLastPage || this.loading}\r\n            onClick={() => this.handlePaginate(this.skip + this.limit)}>\r\n            Next\r\n          </button>\r\n        </div>\r\n        {this.error && <div class=\"error\">{this.error}</div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}